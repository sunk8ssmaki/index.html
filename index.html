<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸŒ¸ @iris </title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Segoe UI',sans-serif;background: linear-gradient(135deg,#ffd1dc,#fff);height:100vh;overflow:hidden;position:relative;}
#musicOverlay{position:fixed;top:20px;right:20px;z-index:20;}
#musicOverlay button{padding:12px 24px;font-size:16px;border-radius:30px;background:#ff2f92;color:white;border:none;box-shadow:0 0 12px rgba(255,105,180,0.45);cursor:pointer;transition:0.3s;}
#musicOverlay button:hover{transform:scale(1.05);background:#ff0f7a;}
.screen{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center;padding:20px;background:rgba(255,255,255,0);opacity:0;pointer-events:none;transition:1s;z-index:5;}
.screen.active{opacity:1;pointer-events:auto;}
.title{font-size:2.4rem;color:#ff2f92;margin-bottom:10px;font-weight:700;animation:fadeUp 0.8s ease forwards;}
.subtitle{font-size:1.2rem;color:#c72672;animation:fadeUp 1s ease forwards;}
.profileWrap{width:180px;height:180px;margin:25px auto;border-radius:50%;border:5px solid #ff9ac4;overflow:hidden;animation:smoothPulse 4s infinite ease-in-out;}
.profilePic{width:100%;height:100%;object-fit:cover;}
.btn{margin-top:25px;padding:15px 40px;background:#ff2f92;color:white;border:none;border-radius:50px;font-size:18px;cursor:pointer;transition:0.4s;}
.btn:hover{transform:scale(1.12) translateY(-3px);background:#ff0f7a;box-shadow:0 0 20px #ff8ac6;}
.msg{font-size:1.25rem;width:80%;max-width:750px;color:#5f0037;line-height:1.9;opacity:1;margin-bottom:25px;white-space:pre-wrap;overflow:hidden;}
@keyframes fadeUp{from{opacity:0;transform:translateY(40px);}to{opacity:1;transform:translateY(0);}}
@keyframes smoothPulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
#fireworks{position:fixed;inset:0;z-index:1;pointer-events:none;}
#fireworksFlash{position:fixed;inset:0;z-index:2;pointer-events:none;background:white;opacity:0;}
</style>
</head>
<body>

<div id="musicOverlay"><button id="playMusic" class="btn">Play Music</button></div>
<iframe id="bgMusic" width="0" height="0" src="https://www.youtube.com/embed/3FCgPUKPBVw?enablejsapi=1&loop=1&playlist=3FCgPUKPBVw" frameborder="0" allow="autoplay"></iframe>

<canvas id="fireworks"></canvas>
<div id="fireworksFlash"></div>

<div class="screen active" id="screen1">
  <h1 class="title">Happy new year loml, Ashley Mariz! ðŸ’–</h1>
  <h3 class="subtitle">it's been 000 days since I saw you, iris.</h3>
  <div class="profileWrap"><img src="b7d77ac5-74f2-4386-a08c-74835678ada0.jpg" class="profilePic"></div>
  <button class="btn" onclick="goNext(1,2)">Continue âžœ</button>
</div>
<div class="screen" id="screen2">
  <p class="msg" data-text="hi misis ko happy new year with me ig? hehi, i want you to know that i'm very very wowed dahil ikaw ang aking naging plot twist ng taon na 'toâ”€â”€  sa maganda pa talaga lord omg. ms. martinez, since nung nakita kita gustong gusto talaga kita, and i really have no idea kung gusto mo din ako kaya kineep ko nalang sa sarili ko hihi which is cool dahil gusto mo din pala ako bwahahahaha"></p>
  <button class="btn" onclick="goNext(2,3)">Next âžœ</button>
</div>
<div class="screen" id="screen3">
  <p class="msg" data-text="blablabla blabla bla, blabla."></p>
  <button class="btn" onclick="goNext(3,4)">Next âžœ</button>
</div>
<div class="screen" id="screen4">
  <p class="msg" data-text="blablabla, thanykou very much and happy new year"></p>
  <button class="btn" onclick="restart()">â†º Back to Start</button>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player;
function onYouTubeIframeAPIReady(){player=new YT.Player("bgMusic",{events:{}});}
document.getElementById("playMusic").onclick=()=>{if(player)player.playVideo();document.getElementById("musicOverlay").style.display="none";};

function typeText(el,text,speed=50){el.textContent='';let i=0;let interval=setInterval(()=>{el.textContent+=text[i++];if(i>=text.length)clearInterval(interval);},speed);}
function goNext(current,next){document.getElementById("screen"+current).classList.remove("active");let nextScreen=document.getElementById("screen"+next);nextScreen.classList.add("active");const msg=nextScreen.querySelector('.msg');if(msg)typeText(msg,msg.dataset.text,50);}
function restart(){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById("screen1").classList.add("active");}

// ===== CANVAS =====
const canvas=document.getElementById("fireworks"); const ctx=canvas.getContext("2d"); const flashDiv=document.getElementById("fireworksFlash");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}resize();addEventListener("resize",resize);

let rockets=[],particles=[],pinkColors=["#ff4f9a","#ff6fae","#ff85c0","#ffb3d1","#ff80aa","#ff9fcf"],accentColors=["#fff9c4","#fffacd"],flashAlpha=0;

// ===== STAR SKY =====
let darkSky=false;
let starField=[];
class Star{constructor(){this.x=Math.random()*canvas.width;this.y=Math.random()*canvas.height;this.radius=Math.random()*1.5+0.5;this.opacity=Math.random();this.vx=(Math.random()-0.5)*0.05;this.vy=(Math.random()-0.5)*0.05;} update(){this.x+=this.vx;this.y+=this.vy;if(this.x<0)this.x=canvas.width;if(this.x>canvas.width)this.x=0;if(this.y<0)this.y=canvas.height;if(this.y>canvas.height)this.y=0;} draw(){ctx.fillStyle=`rgba(255,255,255,${this.opacity})`;ctx.beginPath();ctx.arc(this.x,this.y,this.radius,0,Math.PI*2);ctx.fill();}}
function initStars(){for(let i=0;i<150;i++)starField.push(new Star());}
initStars();

// ===== PARTICLE CLASSES =====
class FireParticle{constructor(x,y){this.x=x+(Math.random()-0.5)*8;this.y=y;this.vx=(Math.random()-0.5)*0.3;this.vy=-Math.random()*0.3;this.life=50+Math.random()*30;this.size=3+Math.random()*3;this.color=Math.random()<0.85?pinkColors[Math.floor(Math.random()*pinkColors.length)]:accentColors[Math.floor(Math.random()*accentColors.length)];} update(){this.x+=this.vx;this.y+=this.vy;this.life--;} draw(){ctx.fillStyle=this.color;ctx.globalAlpha=this.life/60;ctx.beginPath();ctx.arc(this.x,this.y,this.size,0,Math.PI*2);ctx.fill();ctx.globalAlpha=1;}}
class Trail{constructor(x,y){this.x=x;this.y=y;this.life=40;}update(){this.life--;}draw(){ctx.fillStyle=`rgba(255,140,0,${this.life/40})`;ctx.fillRect(this.x,this.y,3,3);}}
class Spark{constructor(x,y,color){const a=Math.random()*Math.PI*2;const s=Math.random()*4+2;this.x=x;this.y=y;this.vx=Math.cos(a)*s;this.vy=Math.sin(a)*s;this.life=140;this.color=color;}update(){this.x+=this.vx;this.y+=this.vy;this.vy+=0.01;this.life--;}draw(){ctx.fillStyle=this.color;ctx.fillRect(this.x,this.y,3,3);}}
class LineRay{constructor(x,y,color){this.x=x;this.y=y;this.angle=Math.random()*Math.PI*2;this.maxLength=Math.random()*150+100;this.currentLength=0;this.speed=Math.random()*1.5+0.5;this.life=80;this.color=color;}update(){this.currentLength+=this.speed;if(this.currentLength>this.maxLength)this.currentLength=this.maxLength;this.life--;}draw(){ctx.save();ctx.globalAlpha=this.life/80;ctx.strokeStyle=this.color;ctx.lineWidth=3;ctx.shadowBlur=20;ctx.shadowColor=this.color;ctx.beginPath();ctx.moveTo(this.x,this.y);ctx.lineTo(this.x+Math.cos(this.angle)*this.currentLength,this.y+Math.sin(this.angle)*this.currentLength);ctx.stroke();ctx.restore();}}

// ===== ROCKET =====
class Rocket{constructor(side){this.x=side==="left"?50+Math.random()*50:innerWidth-100-Math.random()*50;this.y=canvas.height;this.vy=0.8+Math.random()*0.3;this.vx=(Math.random()-0.5)*0.3;this.targetY=Math.random()*canvas.height*0.35+80;this.exploded=false;this.sway=Math.random()*0.03+0.015;this.angle=Math.random()*Math.PI*2;}update(){this.x+=Math.sin(this.angle)*this.vx;this.angle+=this.sway;this.y-=this.vy;for(let i=0;i<6;i++)particles.push(new Trail(this.x+(Math.random()-0.5)*6,this.y+15));for(let i=0;i<2;i++)particles.push(new FireParticle(this.x,this.y));if(this.y<=this.targetY&&!this.exploded){this.explode();this.exploded=true;}}draw(){ctx.fillStyle="#ff9f1c";ctx.fillRect(this.x,this.y,5,16);}explode(){flashAlpha=0.6;flashDiv.style.transition='opacity 0.4s ease-out';flashDiv.style.opacity=flashAlpha;setTimeout(()=>{flashDiv.style.opacity=0;},400);if(!darkSky){darkSky=true;document.body.style.background='radial-gradient(circle,#000010 0%,#000000 100%)';}createHighlightExplosion(this.x,this.y);}}

// ===== HIGHLIGHT ROCKET =====
class HighlightRocket extends Rocket{constructor(side){super(side);this.isHighlight=true;this.upDelay=2000;this.upTime=0;}update(){if(!this.exploded){this.x+=Math.sin(this.angle)*this.vx;this.angle+=this.sway;this.y-=this.vy;this.upTime+=16;for(let i=0;i<6;i++)particles.push(new Trail(this.x+(Math.random()-0.5)*6,this.y+15));for(let i=0;i<2;i++)particles.push(new FireParticle(this.x,this.y));if(this.y<=this.targetY&&this.upTime>=this.upDelay){this.explode();this.exploded=true;}}}}

// ===== 10 UNIQUE HIGHLIGHT EXPLOSIONS =====
function createHighlightExplosion(x,y){
  const explosionStyles = [
    ()=>{for(let i=0;i<100;i++){let a=Math.random()*Math.PI*2;let r=Math.random()*6+3;let c=pinkColors[Math.floor(Math.random()*pinkColors.length)];particles.push(new Spark(x+r*Math.cos(a),y+r*Math.sin(a),c));}},
    ()=>{for(let i=0;i<150;i++){particles.push(new LineRay(x,y,pinkColors[Math.floor(Math.random()*pinkColors.length)]));}},
    ()=>{for(let i=0;i<80;i++){let a=Math.random()*Math.PI*2;let r=10+Math.random()*20;particles.push(new Spark(x+r*Math.cos(a),y+r*Math.sin(a),accentColors[Math.floor(Math.random()*accentColors.length)]));}},
    ()=>{for(let i=0;i<60;i++){let a=Math.random()*Math.PI*2;let r=5+Math.random()*30;particles.push(new Spark(x+r*Math.cos(a),y+r*Math.sin(a),pinkColors[Math.floor(Math.random()*pinkColors.length)]));}},
    ()=>{for(let i=0;i<70;i++){particles.push(new LineRay(x,y,accentColors[Math.floor(Math.random()*accentColors.length)]));}},
    ()=>{for(let i=0;i<50;i++){let t=i*0.2;let sx=x+10*Math.pow(Math.sin(t),3)*6;let sy=y-(7*Math.cos(t)-2.5*Math.cos(2*t))*6;particles.push(new Spark(sx,sy,pinkColors[Math.floor(Math.random()*pinkColors.length)]));}},
    ()=>{for(let i=0;i<120;i++){let a=Math.random()*Math.PI*2;particles.push(new Spark(x+Math.cos(a)*i/2,y+Math.sin(a)*i/2,pinkColors[Math.floor(Math.random()*pinkColors.length)]));}},
    ()=>{for(let i=0;i<90;i++){particles.push(new LineRay(x,y,pinkColors[Math.floor(Math.random()*pinkColors.length)]));}},
    ()=>{for(let i=0;i<80;i++){let a=Math.random()*Math.PI*2;particles.push(new Spark(x+Math.cos(a)*i,y+Math.sin(a)*i,accentColors[Math.floor(Math.random()*accentColors.length)]));}},
    ()=>{for(let i=0;i<150;i++){particles.push(new Spark(x+Math.random()*20-10,y+Math.random()*20-10,pinkColors[Math.floor(Math.random()*pinkColors.length)]));}}
  ];
  explosionStyles[Math.floor(Math.random()*explosionStyles.length)]();

  for(let i=0;i<20;i++){
    let a=Math.random()*Math.PI*2;
    let ray=new LineRay(x,y,pinkColors[Math.floor(Math.random()*pinkColors.length)]);
    ray.angle=a;
    particles.push(ray);
  }
}

// ===== SMART TIMING CONTROL (EFFECTS MUST FINISH FIRST) =====
let waitingForFinish = false;
function checkIfClear(){
  if(rockets.length === 0 && particles.length === 0){
    waitingForFinish = false;
    setTimeout(()=>{ launchBatch(); },500); // smooth new rise
  } else {
    requestAnimationFrame(checkIfClear);
  }
}

function launchBatch(){
  if(waitingForFinish) return;
  waitingForFinish = true;

  rockets.push(new Rocket("left"));
  rockets.push(new Rocket("left"));
  rockets.push(new Rocket("right"));
  rockets.push(new Rocket("right"));
  rockets.push(new HighlightRocket("left"));
  rockets.push(new HighlightRocket("right"));

  requestAnimationFrame(checkIfClear);
}

// âœ¨ Start only once
launchBatch();


// ===== ANIMATION LOOP =====
function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);starField.forEach(s=>{s.update();s.draw();});rockets.forEach((r,i)=>{r.update();r.draw();if(r.exploded)rockets.splice(i,1);});particles.forEach((p,i)=>{p.update();p.draw();if(p.life<=0)particles.splice(i,1);});requestAnimationFrame(animate);}
animate();

// ===== WATERFALL =====
let waterfallParticles=[];
class WaterfallStar{constructor(){this.x=Math.random()*canvas.width;this.y=-10-Math.random()*100;this.length=10+Math.random()*20;this.speed=0.5+Math.random()*1.2;this.opacity=0.3+Math.random()*0.7;this.width=1+Math.random()*2;this.color=pinkColors[Math.floor(Math.random()*pinkColors.length)];}update(){this.y+=this.speed;this.opacity-=0.002;if(this.opacity<=0)this.reset();}reset(){this.x=Math.random()*canvas.width;this.y=-10-Math.random()*100;this.opacity=0.3+Math.random()*0.7;this.speed=0.5+Math.random()*1.2;this.width=1+Math.random()*2;this.color=pinkColors[Math.floor(Math.random()*pinkColors.length)];}draw(){ctx.strokeStyle=this.color;ctx.globalAlpha=this.opacity;ctx.lineWidth=this.width;ctx.beginPath();ctx.moveTo(this.x,this.y);ctx.lineTo(this.x,this.y+this.length);ctx.stroke();ctx.globalAlpha=1;}}
for(let i=0;i<120;i++)waterfallParticles.push(new WaterfallStar());
function animateWaterfall(){waterfallParticles.forEach(s=>{s.update();s.draw();});requestAnimationFrame(animateWaterfall);}
animateWaterfall();
</script>
</body>
</html>



